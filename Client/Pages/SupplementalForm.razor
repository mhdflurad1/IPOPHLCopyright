@page "/copyright-supplemental-form"
@using Microsoft.AspNetCore.Components.Forms
@using Syncfusion.Blazor.Data;
@using Syncfusion.Blazor.Inputs;
@using Syncfusion.Blazor.Buttons
@using Blazored.Toast.Services
@using System.ComponentModel.DataAnnotations;
@using System.Collections.Generic;
@using System.Threading.Tasks;
@using CoauthorPage.Models

@inject HttpClient Http
@inject NavigationManager NavigationManager
@inject IJSRuntime JSRuntime;

<PageTitle>IPOPHL | BCRRR Supplemental Form</PageTitle>
<div class="text-center text-uppercase title-text fw-bold">Transaction Form</div>
<div class="text-center fw-normal fst-italic mb-1">Supplemental Sheet</div>

<EditForm Model="@newcopyrightmodel" OnInvalidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />

    <div class="container-fluid mt-1">
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-header header-text">
                        CO-AUTHOR / CREATOR INFORMATION
                    </div>
                    <div class="card-body">
                        <div class="container-fluid">
                            <div class="row mb-2">
                                <div class="col">
                                    <div class="form-floating">
                                        <InputText @bind-Value="@newcopyrightmodel.CoAuthorLName" placeholder="Last Name" class="form-control" id="applicantLName" required />
                                        <label for="applicantFName">Surname</label>
                                        <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorLName)" />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-floating">
                                        <InputText @bind-Value="@newcopyrightmodel.CoAuthorFName" placeholder="First Name" class="form-control" id="applicantFName" required />
                                        <label for="applicantFName">First Name</label>
                                        <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorFName)" />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-floating mb-2">
                                        <InputText @bind-Value="@newcopyrightmodel.CoAuthorMName" placeholder="Middle Name" class="form-control" id="applicantMName" required />
                                        <label for="applicantMName">Middle Name</label>
                                        <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorMName)" />
                                    </div>
                                </div>
                            </div>

                            <div class="row mt-2 mb-3">
                                <div class="col-2 mt-2">
                                    <SfDatePicker @bind-Value="@newcopyrightmodel.DateValue" style="height:57px" TValue="DateTime?" id="Date of Birth" Placeholder="Date of Birth"></SfDatePicker>
                                </div>

                                <div class="col-2 mt-2">
                                    <SfDropDownList @bind-Value="@newcopyrightmodel.CoMartialStatus" style="height:57px" TValue="string" TItem="MaritalStatusDataModel" PopupHeight="auto"
                                                    PopupWidth="auto" Placeholder="Martial Status" DataSource="@MaritalStatusList">
                                        <DropDownListFieldSettings Value="MaritalStatusID" Text="MaritalStatusName"></DropDownListFieldSettings>
                                    </SfDropDownList>
                                </div>

                                <div class="col-2 mt-2">
                                    <SfDropDownList @bind-Value="@newcopyrightmodel.CoGender" style="height:57px" TValue="string" TItem="GenderDataModel" PopupHeight="auto"
                                                    PopupWidth="auto" Placeholder="Gender" DataSource="@GenderList">
                                        <DropDownListFieldSettings Value="GenderID" Text="GenderName"></DropDownListFieldSettings>
                                    </SfDropDownList>
                                </div>

                                <div class="col-3 mt-2">
                                    <SfDropDownList TValue="string" TItem="NationalityDataModel" style="height:57px" PopupHeight="auto"
                                                    PopupWidth="auto" Placeholder="Nationality" DataSource="@NationalityListModel">
                                        <DropDownListFieldSettings Value="NationalityId" Text="NationalityName"></DropDownListFieldSettings>
                                    </SfDropDownList>
                                    <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorNationality)" />
                                </div>

                                <div class="col-3 mt-2">
                                    <SfDropDownList TValue="string" TItem="CountryDataModel" style="height:57px" PopupHeight="auto"
                                                    PopupWidth="auto " Placeholder="Country of Residence" DataSource="@CountryListModel">
                                        <DropDownListFieldSettings Value="CountryId" Text="CountryName"></DropDownListFieldSettings>
                                    </SfDropDownList>
                                    <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorCountry)" />
                                </div>
                            </div>
                            <div class="row mb-2">
                                <div class="col-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="applicantAddress" placeholder="Address">
                                        <label for="applicantAddress">Address (Complete Street info, village, subdivision, barangay)</label>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <SfDropDownList TValue="string" TItem="CityDataModel" style="height:57px" PopupHeight="auto"
                                                    PopupWidth="auto " Placeholder="Municipality / City" DataSource="@CityListModel">
                                        <DropDownListFieldSettings Value="CityId" Text="CityName"></DropDownListFieldSettings>
                                    </SfDropDownList>
                                    <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorCity)" />
                                </div>
                            </div>
                            <div class="row mt-3 mb-3">
                                <!--ilagay ito sa code -->
                                <div class="col-4">
                                    <SfDropDownList TValue="string" TItem="CityDataModel" PopupHeight="auto" style="height:56px"
                                                    PopupWidth="auto " Placeholder="Province / State" DataSource="@CityListModel">
                                        <DropDownListFieldSettings Value="CityId" Text="CityName"></DropDownListFieldSettings>
                                    </SfDropDownList>
                                    <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorCity)" />
                                </div>
                                <div class="col-2">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="applicantZipCode" placeholder="Zip Code">
                                        <label for="applicantZipCode">Zip Code</label>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-floating">
                                        <InputText @bind-Value="@newcopyrightmodel.CoAuthorMobNum" placeholder="Mobile Number" class="form-control" id="applicantLName" required />
                                        <label>Mobile Number</label>
                                        <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorMobNum)" />
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-floating">
                                        <InputText @bind-Value="@newcopyrightmodel.CoAuthorEmailAdd" placeholder="Email Address" class="form-control" id="applicantFName" required />
                                        <label>Email Address</label>
                                        <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorEmailAdd)" />
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @foreach (var model in newcopyrightmodels)
    {
        <div class="container-fluid mb-3 mt-3">
            <div class="row">
                <div class="col">
                    <div class="card">
                        <div class="card-header header-text">
                            CO-AUTHOR / CREATOR INFORMATION
                        </div>
                        <div class="card-body">
                            <div class="container-fluid">
                                <div class="row mb-2">
                                    <div class="col">
                                        <div class="form-floating">
                                            <InputText @bind-Value="@newcopyrightmodel.CoAuthorLNamee" placeholder="Last Name" class="form-control" id="applicantLName" required />
                                            <label for="applicantFName">Surname</label>
                                            <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorLName)" />
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-floating">
                                            <InputText @bind-Value="@newcopyrightmodel.CoAuthorFNamee" placeholder="First Name" class="form-control" id="applicantFName" required />
                                            <label for="applicantFName">First Name</label>
                                            <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorFName)" />
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-floating mb-2">
                                            <InputText @bind-Value="@newcopyrightmodel.CoAuthorMNamee" placeholder="Middle Name" class="form-control" id="applicantMName" required />
                                            <label for="applicantMName">Middle Name</label>
                                            <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorMName)" />
                                        </div>
                                    </div>
                                </div>

                                <div class="row mt-2 mb-3">
                                    <div class="col-2 mt-2">
                                        <SfDatePicker @bind-Value="@newcopyrightmodel.DateValuee" style="height:57px" TValue="DateTime?" id="Date of Birth" Placeholder="Date of Birth"></SfDatePicker>
                                    </div>

                                    <div class="col-2 mt-2">
                                        <SfDropDownList @bind-Value="@newcopyrightmodel.CoMartialStatuss" style="height:57px" TValue="string" TItem="MaritalStatusDataModel" PopupHeight="auto"
                                                        PopupWidth="auto" Placeholder="Martial Status" DataSource="@MaritalStatusList">
                                            <DropDownListFieldSettings Value="MaritalStatusID" Text="MaritalStatusName"></DropDownListFieldSettings>
                                        </SfDropDownList>
                                    </div>

                                    <div class="col-2 mt-2">
                                        <SfDropDownList @bind-Value="@newcopyrightmodel.CoGenderr" style="height:57px" TValue="string" TItem="GenderDataModel" PopupHeight="auto"
                                                        PopupWidth="auto" Placeholder="Gender" DataSource="@GenderList">
                                            <DropDownListFieldSettings Value="GenderID" Text="GenderName"></DropDownListFieldSettings>
                                        </SfDropDownList>
                                    </div>

                                    <div class="col-3 mt-2">
                                        <SfDropDownList @bind-Value="@newcopyrightmodel.CoAuthorNationalityy" TValue="string" TItem="NationalityDataModel" style="height:57px" PopupHeight="auto"
                                                        PopupWidth="auto" Placeholder="Nationality" DataSource="@NationalityListModel">
                                            <DropDownListFieldSettings Value="NationalityId" Text="NationalityName"></DropDownListFieldSettings>
                                        </SfDropDownList>
                                        <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorNationality)" />
                                    </div>

                                    <div class="col-3 mt-2">
                                        <SfDropDownList TValue="string" TItem="CountryDataModel" style="height:57px" PopupHeight="auto"
                                                        PopupWidth="auto " Placeholder="Country of Residence" DataSource="@CountryListModel">
                                            <DropDownListFieldSettings Value="CountryId" Text="CountryName"></DropDownListFieldSettings>
                                        </SfDropDownList>
                                        <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorCountryy)" />
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="applicantAddress" placeholder="Address">
                                            <label for="applicantAddress">Address (Complete Street info, village, subdivision, barangay)</label>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <SfDropDownList TValue="string" TItem="CityDataModel" style="height:57px" PopupHeight="auto"
                                                        PopupWidth="auto " Placeholder="Municipality / City" DataSource="@CityListModel">
                                            <DropDownListFieldSettings Value="CityId" Text="CityName"></DropDownListFieldSettings>
                                        </SfDropDownList>
                                        <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorCityy)" />
                                    </div>
                                </div>
                                <div class="row mt-3 mb-3">
                                    <div class="col-4">
                                        <SfDropDownList TValue="string" TItem="CityDataModel" PopupHeight="auto" style="height:56px"
                                                        PopupWidth="auto " Placeholder="Province / State" DataSource="@CityListModel">
                                            <DropDownListFieldSettings Value="CityId" Text="CityName"></DropDownListFieldSettings>
                                        </SfDropDownList>
                                        <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorCityy)" />
                                    </div>
                                    <div class="col-2">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="applicantZipCode" placeholder="Zip Code">
                                            <label for="applicantZipCode">Zip Code</label>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-floating">
                                            <InputText @bind-Value="@newcopyrightmodel.CoAuthorMobNum" placeholder="Mobile Number" class="form-control" id="applicantLName" required />
                                            <label>Mobile Number</label>
                                            <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorMobNumm)" />
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div class="form-floating">
                                            <InputText @bind-Value="@newcopyrightmodel.CoAuthorEmailAdd" placeholder="Email Address" class="form-control" id="applicantFName" required />
                                            <label>Email Address</label>
                                            <ValidationMessage For="@(() => newcopyrightmodel.CoAuthorEmailAddd)" />
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }

     <div class="row container-fluid mt-3 mb-2">
        <div class="col-auto me-auto">
              <SfButton IconCss="e-icons e-chevron-down icon-color" style="background-color: black" OnClick="AddNewGroup"><span class="button-text-color">Add New Co-Author</span></SfButton>
              <SfButton IconCss="e-icons e-chevron-up icon-color" style="background-color: black" OnClick="RemoveLastGroup"><span class="button-text-color">Remove New Co-Author</span></SfButton>
            </div>
        <div class="col-md-auto">
            <SfButton style="background-color: black;" OnClick="RemoveLastGroup"><span class="button-text-color; align-content-end; m-4">Sumbit</span></SfButton>
        </div>
     </div>

</EditForm>

@code {
   
    SupplementalformModels newcopyrightmodel = new SupplementalformModels();

    private List<SupplementalformModels> newcopyrightmodels = new List<SupplementalformModels>();
    private void AddNewGroup()
    {
        newcopyrightmodels.Add(new SupplementalformModels());
    }

    private List<SupplementalformModels> Newcopyrightmodels = new List<SupplementalformModels>();
    private void RemoveLastGroup()
    {
        if (newcopyrightmodels.Count > 0)
        {
            newcopyrightmodels.RemoveAt(newcopyrightmodels.Count - 1);
        }
    }

    void HandleValidSubmit()
    {
        // Handle form submission
    }
}

@code {
   
    List<GenderDataModel> GenderList = new List<GenderDataModel> {
        new GenderDataModel() { GenderID = "Gender1", GenderName = "Male" },
        new GenderDataModel() { GenderID = "Gender2", GenderName = "Female" },
    };
}

@code {
   
    List<MaritalStatusDataModel> MaritalStatusList = new List<MaritalStatusDataModel> {
        new MaritalStatusDataModel() { MaritalStatusID = "MS1", MaritalStatusName = "Single" },
        new MaritalStatusDataModel() { MaritalStatusID = "MS2", MaritalStatusName = "Married" },
        new MaritalStatusDataModel() { MaritalStatusID = "MS3", MaritalStatusName = "Separated" },
        new MaritalStatusDataModel() { MaritalStatusID = "MS4", MaritalStatusName = "Divorced" },
        new MaritalStatusDataModel() { MaritalStatusID = "MS5", MaritalStatusName = "Widowed" },
    };
}

@code {
  
    List<NationalityDataModel> NationalityListModel = new List<NationalityDataModel>()
    {

    };
}

@code {
    
    List<CountryDataModel> CountryListModel = new List<CountryDataModel>()
    {

    };
}

@code {
    
    List<CityDataModel> CityListModel = new List<CityDataModel>()
    {

    };
}
